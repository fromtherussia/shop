<style>	#general-categories-list .category {		width: 250px;		font-size: 12px;		min-height: 270px;		padding: 20px;		border: 1px solid transparent;	}		#general-categories-list .category:hover {		border: 1px solid #ccc;		background-color: #ddd;	}		#general-categories-list .category img {		max-width: 250px;		max-height: 120px;	}		#general-categories-list .category .image {		width: 250px;		height: 120px;		border: 1px solid black;		background-color: #fff;	}	#general-categories-list .category hr {		height: 2px;		color: #000;		background-color: #000;		border: 0;	}		#general-categories-list .category h4 {		font-face: 'Tahoma';		font-size: 18px;		margin: 5px;	}		#general-categories-list .category table {	}		#general-categories-list .category table td {		padding: 0 7px;	}</style><div id="general-categories-list">	<?php		function renderItem($href, $title) {			$originalTitle = firstUpper($title);			echo "<a href=\"$href\" title=\"$originalTitle\">";			echo limitString($originalTitle, 15);			echo '</a>';		}		function renderSubcategory($rootCategoryId, &$subcategories) {			$itemsCount = 0;			echo '<table>';			foreach ($subcategories as $subcategory) {				if ($subcategory['parent_category_id'] == $rootCategoryId) {					if ($itemsCount % 2 == 0) {						echo '<tr>';					}					echo '<td>';					renderItem(getCategoryUrl($subcategory['id']), $subcategory['title']);					echo '</td>';										if ($itemsCount % 2 == 1) {						echo '</tr>';					}										if (++$itemsCount >= 6) {						break;					}				}			}			if ($itemsCount % 2 == 0) {				echo '<td></td></tr>';			}			echo '<tr><td colspan="2">';			renderItem(getCategoryUrl($rootCategory['id']), 'еще ...');			echo '</td></tr>';						echo '</table>';			return true;		}				$localId = 0;		foreach ($root_categories as $rootCategory) {			$image = safeGetItem('image', $rootCategory, '');			$shortDescription = safeGetItem('short_description', $rootCategory, 'Описание отсутствует');			$title = safeGetItem('title', $rootCategory, 'Без названия');						$rootCategoryImageId = 'rootcategory-image-' . $localId;		?>			<div class="category left">				<div id="<?= $rootCategoryImageId; ?>" class="image">&nbsp;</div>				<h4><?= $title; ?></h4>				<hr />				<?php renderSubcategory($rootCategory['id'], $subcategories); ?>				<script>					$('#' + '<?= $rootCategoryImageId; ?>').popupImage({						small: "<?= $image; ?>",						large: "<?= $image; ?>"					});				</script>			</div>		<?php			$localId++;		}	?>	<br class="clear" /></div>